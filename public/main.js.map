{"version":3,"file":"main.js","sources":["js/classes/dom.js","js/assets/spirits.js","js/assets/utils.js","js/assets/object.js","js/assets/ui.js","js/assets/characters.js","js/constant.js","js/assets/environment.js","js/main.js"],"sourcesContent":["//mount function\nexport const m = (el, p = document.body) => Array.isArray(el) ? el.forEach( _el=>m(_el, p)): p.appendChild(el);\n\n//dom manimulpating\nexport const h = (type, props = {}, ...children) => {\n    const node = document.createElement(type)\n    const _m = (child, node) => {\n      if(child instanceof Element){\n        m(child, node)\n      }else{\n        if(!child) return;\n        let text = document.createTextNode(child);\n        m(text, node)\n      }\n    }\n\n    if(typeof props === 'string'){\n      node.className = props\n    }else{\n      const { className, bs, top, left, width, height, background } = props;\n      node.className = className || 'pix'\n      node.style.background = background || ''\n      node.style.top = top || ''\n      node.style.left = left || ''\n      node.style.width = width || ''\n      node.style.height = height || ''\n      node.style.boxShadow = bs || ''\n    }\n\n    if(children.length){\n      if(Array.isArray(children[0])) children = children[0]\n      children.forEach( child => {\n        if( Array.isArray(child) ) {\n          child.forEach( _child => _m(_child, node))\n        }else{\n          _m(child, node)\n        }\n      })\n    }\n\n    //poly fills\n    node.prependChild = newel => node.insertBefore(newel, node.firstChild);\n    node.$m = el => m(el, node);\n    node.hide = () => node.style.display = 'none';\n    node.show = (p = 'inherit') => node.style.display = p;\n    node.html = html => node.innerHTML = html;\n    node.empty = ()=> node.html('')\n    node.on = (e,cb) => node.addEventListener(e, cb)\n    node.click = cb => {\n      if(cb){\n        node.on('click', cb)\n      }else{\n        const evt = document.createEvent(\"MouseEvents\");\n        evt.initMouseEvent(\"click\", true, true, window, 1, 0, 0, 0, 0,\n        false, false, false, false, 0, null);\n        node.dispatchEvent(evt)\n      }\n    }\n    node.change = cb => node.on('change', cb)\n\n\n     return node;\n}\n\n\nfunction dk(color, percent) {\n    var f=parseInt(color.slice(1),16),\n        t=percent<0?0:255,\n        p=percent<0?percent*-1:percent,\n        R=f>>16,\n        G=f>>8&0x00FF,\n        B=f&0x0000FF;\n    return \"#\"+(0x1000000+(Math.round((t-R)*p)+R)*0x10000+(Math.round((t-G)*p)+G)*0x100+(Math.round((t-B)*p)+B)).toString(16).slice(1);\n}\n\nexport const d = (hex, color= '#080', l=0,t=0, s=8, shadow = false, cs = -.05) => {\n  //hex to binary string then to 0,1 array\n  try{\n    let ilb = i => i%s < i/s -1\n    let bin = hex.split('').reduce((acc, i) => acc + ('000' + parseInt(i, 16).toString(2)).substr(-4, 4), '')\n    let str =  bin.split('').reduce( (bits, bit, i) => bits + (parseInt(bit) ? `${i%s}em ${(i/s)|0}em ${shadow && ilb(i) ? dk(color, cs) : color},` : '') , '').slice(0,-1)\n    return h('div', { bs: str, className:\"pix\", left: l+'em', top: t+'em' });\n  }catch(e){\n    return;\n  }\n\n}\n","export const a = '183c66667e7e6642'\r\nexport const armor = '0044eceefefefefe7ceeee'\r\nexport const axe = '0416173f3f171614101010'\r\nexport const b = '7c66667e6466667c'\r\nexport const bodyleft = '3f7fffdfdfdfdfdfdfdfdfdfdf'\r\nexport const bodyright = 'fcfefffbfbfbfbfbfbfbfbfbfb'\r\nexport const c = '3c6260606060623c'\r\nexport const colon = '0000006060006060'\r\nexport const comma = '0000000000303060'\r\nexport const d = '7c6666666666667c'\r\nexport const dot = '0000000000006060'\r\nexport const e = '7e60607c7c60607e'\r\nexport const exc = '1818181818001818'\r\nexport const f = '7e60607c7c606060'\r\nexport const g = '7e6260606e66667e'\r\nexport const h = '6666667e7e666666'\r\nexport const hair1 = '7f7fc0c0'\r\nexport const hair2 = '3c7effe3c1c0'\r\nexport const head = '7efefefefee0'\r\nexport const heart = '48fcfc7830'\r\nexport const hemlet = '003e7efee0f2f2f2'\r\nexport const i = '7e7e181818187e7e'\r\nexport const j = '0606060666667e7e'\r\nexport const k = '66666c78786c6666'\r\nexport const l = '6060606060607e7e'\r\nexport const legleft = '1c1c1c1c1c1c1c1c1c1c1c7c7c'\r\nexport const legright = '1c1c1c1c1c1c1c1c1c1c1c1f1f'\r\nexport const longhat = '787878fcfc'\r\nexport const m = '4163777f7f6b6363'\r\nexport const n = '63737b7f7f6f6763'\r\nexport const n0 = '3c6262626262623c'\r\nexport const n1 = '387818181818187e'\r\nexport const n2 = '3c7e660c1830627e'\r\nexport const n3 = '3c66460c0c46663c'\r\nexport const n4 = '2c6c6c6c7f0c0c0c'\r\nexport const n5 = '7e6060607e06467e'\r\nexport const n6 = '7e6060607e62627e'\r\nexport const n7 = '7e6606060c0c1818'\r\nexport const n8 = '3c66663c6666663c'\r\nexport const n9 = '3c4646463e06463c'\r\nexport const o = '3c6666666666663c'\r\nexport const p = '3c666666667c6060'\r\nexport const q = '3c424242424a463d'\r\nexport const qes = '3c66460e1c180018'\r\nexport const r = '7c62627c786c6663'\r\nexport const rect = '70707070'\r\nexport const s = '3c626230184e463c'\r\nexport const shorthat = '3cffff'\r\nexport const slash = '0c0c181830306060'\r\nexport const sword = '10101010101010387c1010'\r\nexport const t = '7e7e181818181818'\r\nexport const triangle = '183c7eff'\r\nexport const u = '6666666666667e3c'\r\nexport const v = '4266666666663c18'\r\nexport const w = '6363636b7f7f7763'\r\nexport const x = '6363363e1c367763'\r\nexport const y = '6666667e3c181818'\r\nexport const z = '7e7e0e1c38707e7e'\r\n","export function prefix(el, property, value){\r\n  let p = ['', '-webkit-', '-moz-', '-ms-', '-o-']\r\n  p.forEach( _p => el.style[property] = _p+value)\r\n}\r\n\r\nexport const centerEl = (el, w, h, u='px') => {\r\n  el.style.left=\"50%\"\r\n  el.style.top=\"50%\"\r\n  el.style.marginLeft = `-${w/2 + u}`\r\n  el.style.marginTop = `-${h/2 + u}`\r\n}\r\n\r\nexport const transform = (e, sx=1,sy=1, tx=0, ty=0, r=0) => e.style.transform = `rotate(${r}deg) scale(${sx}, ${sy}) translate(${tx}em, ${ty}em) translateZ(1000px)`\r\n\r\nexport const random = arr => arr[Math.floor(Math.random()*arr.length)];\r\n\r\nfunction isPromise(obj) {\r\n  return obj && typeof obj.then === 'function';\r\n}\r\n\r\nexport function waterfall(list) {\r\n  // malformed argument\r\n  list = Array.prototype.slice.call(list);\r\n  if (!Array.isArray(list)                    // not an array\r\n      || typeof list.reduce !== \"function\"    // update your javascript engine\r\n      || list.length < 1                      // empty array\r\n     ) {\r\n    return Promise.reject(\"err\"); //Array with reduce function is needed.\r\n  }\r\n\r\n  if (list.length == 1) {\r\n    if (typeof list[0] != \"function\")\r\n      return Promise.reject(\"err \" );//First element of the array should be a function, got+ typeof list[0]\r\n    return Promise.resolve(list[0]());\r\n  }\r\n\r\n  return list.reduce(function(l, r){\r\n    // first round\r\n    // execute function and return promise\r\n    var isFirst = (l == list[0]);\r\n    if (isFirst) {\r\n      if (typeof l != \"function\")\r\n        return Promise.reject(\"err\");//List elements should be function to call.\r\n\r\n      var lret = l();\r\n      if (!isPromise(lret))\r\n        return Promise.reject(\"err\");//Function return value should be a promise.\r\n      else\r\n        return lret.then(r);\r\n    }\r\n\r\n    // other rounds\r\n    // l is a promise now\r\n    // priviousPromiseList.then(nextFunction)\r\n    else {\r\n      if (!isPromise(l))\r\n        Promise.reject(\"err\");//Function return value should be a promise.\r\n      else\r\n        return l.then(r);\r\n    }\r\n  });\r\n}\r\n\r\n//turn into promise function\r\nexport const p = func => () => new Promise( res=> func(res))\r\n","import { h, d } from '../classes/dom.js';\r\nimport { transform } from './utils';\r\nimport * as images from './spirits.js';\r\n\r\nconst { data } = DATA.OBJS;\r\n\r\nconsole.log('objs', data)\r\nconst objects = {\r\n  get: (id, shadow = false) => {\r\n    let item = data[id];\r\n    let children = item[2].reverse().map(asset=>{\r\n      let c = Array.isArray(asset[1]) ? random(asset[1]) : asset[1]\r\n      let _el = d(images[asset[0]],c, asset[2], asset[3], 8, true);\r\n      transform(_el, asset[4], asset[5], asset[6], asset[7])\r\n      return _el\r\n    })\r\n\r\n    let el = h('div', { className: 'pix obj', height: item[0]+'em', width: item[1]+'em'}, children)\r\n    if(shadow) el.prependChild(  h('div', 'shadow') )\r\n    transform(el, item[3], item[4], item[5], item[6], item[7])\r\n\r\n    return {\r\n      el,\r\n      size: [item[1], item[0]]//width , height\r\n    };\r\n  },\r\n  text: (str, color=\"#fff\", props={})=> {\r\n    str = str.toLowerCase()\r\n    return h('div', Object.assign({},{className: 'pix text', height: '8em', width: 8*str.length+'em'}, props ), str.split('').map((c,i)=> {\r\n      let dicts = {\r\n        '.': 'dot',\r\n        ',': 'comma',\r\n        '!': 'exc',\r\n        '?': 'qes',\r\n        ':': 'colon',\r\n        '/': 'slash'\r\n      }\r\n      if(c in dicts) c = dicts[c]\r\n      if(/^\\d+$/.test(c)) c = 'n'+c\r\n      return c == \" \" ? h('div', {width: 1+'em'}): d(images[c], color, i*8)\r\n    } ))\r\n  }\r\n}\r\n\r\nexport default objects;\r\n","import { h, m } from '../classes/dom.js';\r\nimport objects from './object';\r\n\r\nconst dialogInner = (c) => h('div', 'dialog-inner popup', c ? c : null)\r\nconst dialog = (c) => {\r\n\r\n  let el = h('div', 'ui dialog')\r\n  el.$innerBox = dialogInner(c)\r\n  m(el.$innerBox, el)\r\n\r\n  return el;\r\n}\r\nconst dialogWithButton = (title, content, cb, btns=[], btnTxt = \"ok\") =>{\r\n  let $el = dialog([objects.text(title)])\r\n  if(btns.length > 0){\r\n\r\n  }else{\r\n    btns =  button(btnTxt)\r\n    btns.click(()=>{\r\n      cb()\r\n      $el.hide()\r\n    })\r\n  }\r\n  m([h('div', 'dialog-content', content), btns],$el.$innerBox)\r\n  return $el\r\n}\r\nconst button = (str, clz)=> h('div', clz||'btn blue', objects.text(str));\r\nconst alert = (str, btnTxt, cb) => dialogWithButton(str, [], cb, [], btnTxt);\r\nconst ask = (title, cb)=>{\r\n  let value = ''\r\n  let $input = h('input', 'input')\r\n  $input.type = 'text'\r\n  $input.change(e=>value=e.target.value)\r\n  return dialogWithButton(title, $input, ()=>cb(value));\r\n}\r\nconst pick = (title, options, onChange, cb, clz='') => {\r\n  let pick = 0\r\n\r\n  let $els = options.map( (option,i)=> {\r\n    let el = h('span', `ui option ${clz}`, option)\r\n    el.click(()=>{\r\n      onChange(pick = i)\r\n      $els.forEach( (e, i) => pick === i ? e.style.border=\"1px solid #fff\" : e.style.border = 'none')\r\n\r\n    })\r\n    return el\r\n  })\r\n\r\n  return dialogWithButton(title, $els, ()=>cb(pick))\r\n}\r\n\r\nconst controls = (onNewMsg) => {\r\n  const logEl = h('div', 'chat')\r\n  const inputEl = h('input', 'chat-input')\r\n  inputEl.type = \"text\"\r\n  const submitEl = button('send', 'chat-btn')\r\n  submitEl.on('click', ()=>{\r\n    onNewMsg(inputEl.value)\r\n    inputEl.value = \"\"\r\n  })\r\n\r\n  //chat section\r\n  const chatBox = h('div', 'chat-box', logEl, inputEl, submitEl)\r\n  const logs = msgs => {\r\n    logEl.empty();\r\n    m(msgs.map(i=>h('p','', i)), logEl)\r\n  }\r\n  const getMsg = () => {\r\n    inputEl.value = \"\"\r\n    return msg;\r\n  }\r\n\r\n  //chat fn\r\n  let userScroll = false\r\n  logEl.on('scroll', ()=> userScroll = true)\r\n\r\n  setInterval(()=>{\r\n    if(!userScroll)logEl.scrollTop = logEl.scrollHeight;\r\n    else if(logEl.scrollHeight - logEl.scrollTop === logEl.clientHeight) userScroll = false\r\n  }, 100)\r\n\r\n  // status section\r\n  const statusBox = h('div', 'status-box')\r\n\r\n\r\n  // ability section\r\n  const actionBox = h('div', 'action-box')\r\n\r\n  const el = h('div', 'controls', chatBox, statusBox, actionBox)\r\n  return {\r\n    el,\r\n    logs,\r\n    submitEl,\r\n    actionBox,\r\n    statusBox\r\n  }\r\n}\r\n\r\nconst map = (mapData, pt)=>{\r\n\r\n  const { areas } = DATA.MAPS\r\n  const elData = []\r\n  let _pt = pt\r\n\r\n  let $text = h('div', 'map-text')\r\n  let $detail = h('div', 'map-detail')\r\n  let $map = h('div', 'map', $text, $detail)\r\n\r\n\r\n  mapData.forEach( (row, y)=> {\r\n    let $row = h('div', { className: 'map-row', width: row.length+'em', height: '1em'})\r\n    elData[y] = []\r\n    row.forEach( (col, x)=> {\r\n      let node = h('div', {\r\n        className: `map-node`,\r\n        width: '1em',\r\n        height: '1em',\r\n        background: areas[col][4]\r\n      })\r\n\r\n      elData[y][x] = node;\r\n\r\n      node.on('mouseover', ()=>{\r\n        $text.empty()\r\n        $text.$m(objects.text(`${areas[col][1]} x:${x} y:${y}`))\r\n        $text.show()\r\n      })\r\n      $row.$m(node)\r\n    })\r\n\r\n    $detail.$m( $row );\r\n  })\r\n\r\n  $detail.on('mouseout', ()=> $text.hide())\r\n  let el = dialogWithButton('map', $map, ()=>el.hide())\r\n\r\n  const update = pt => {\r\n    if(_pt.y > -1) elData[_pt.x][_pt.y].className = 'map-node'\r\n    elData[pt.x][pt.y].className = 'map-node active'\r\n    _pt = pt\r\n  }\r\n\r\n  return {\r\n    el,\r\n    update\r\n  };\r\n}\r\n\r\nconst progress = (title='', height = 1, width = 10, val = 70, max = 100, color=\"red\") => {\r\n  let _max = max;\r\n\r\n  const inner = h('div', {className:'progress-bar' , background: color})\r\n  const text = objects.text(`${title}:${val}/${max}`, '#fff')\r\n  const el = h('div', {\r\n    className: 'progress',\r\n    width: width+'em',\r\n    height: height+'em'\r\n  }, inner, text)\r\n\r\n  const setVal = (p) => {\r\n    inner.style.width = (p/_max)*100 + '%'\r\n  }\r\n\r\n  const setMax = p => _max = p\r\n\r\n  setVal(val)\r\n\r\n  return {\r\n    el,\r\n    setVal,\r\n    setMax\r\n  }\r\n}\r\n\r\nconst removeAll = clz => Array.prototype.forEach.call(document.getElementsByClassName(clz), c=>c.parentNode.removeChild(c))\r\n\r\nexport default{\r\n  button,\r\n  dialog,\r\n  progress,\r\n  ask,\r\n  pick,\r\n  alert,\r\n  controls,\r\n  text: objects.text,\r\n  map,\r\n  removeAll\r\n};\r\n","import * as images from './spirits.js';\r\nimport objects from './object';\r\nimport { h, d, m } from '../classes/dom.js';\r\nimport ui from './ui';\r\n\r\nconst { skins, hairs } = DATA.COLORS;\r\nconst width = 13\r\nconst height = 31\r\nconst genSkin = (s, _h, items = []) => {\r\n  const body = h('div', 'pix upAndDown',\r\n    d(images.bodyleft, skins[s], 0, 5.5, 8, true),\r\n    d(images.bodyright, skins[s], 5, 5.5),\r\n    items.filter(i=>i.pos===2 || i.pos === 3).map(i=>i.el)\r\n  )\r\n\r\n  const leg = h('div', {},\r\n    d(images.legleft, skins[s], 0, 18, 8, true),\r\n    d(images.legright, skins[s], 4, 18)\r\n  )\r\n\r\n  const head = h('div', 'pix upAndDown',\r\n    d(images.head, skins[s], 4),\r\n    d(images.hair2, hairs[_h], 4, -3, 8),\r\n    items.filter(i=>i.pos===1).map(i=>i.el)\r\n  )\r\n\r\n  return [head, leg, body]\r\n}\r\n\r\nexport const person = (info, items = [], rev = false) => {\r\n\r\n  const name = h('div', {className: '', top: -7+'em'} , ui.text(info.name))\r\n  const itemEls = items.map(i=>{\r\n    if(typeof i === 'string') return h('div')\r\n    if(!i.eq) return h('div')\r\n    return {\r\n      el:objects.get(i.obj).el,\r\n      pos: i.pos\r\n    }\r\n  })\r\n\r\n  let skin = genSkin(info.skin, info.hair, itemEls)\r\n\r\n  const character = h('div',\r\n    {\r\n      className: `character ${rev?'rev':''}`,\r\n      height: height+'em',\r\n      width: width+'em'\r\n    },\r\n    name,\r\n    h('div', 'shadow'),\r\n    skin\r\n  )\r\n\r\n  const updateInfo = (_info, _items = []) => {\r\n    if(_info.name != info.name) {\r\n      name.html('')\r\n      info.name = _info.name\r\n      m(ui.text(info.name), name)\r\n    }\r\n\r\n    if(_info.skin != info.skin || _info.hair != info.hair) {\r\n      info.skin = _info.skin\r\n      info.hair = _info.hair\r\n      skin.forEach(el=>character.removeChild(el))\r\n      skin = genSkin(info.skin, info.hair)\r\n      m(skin, character)\r\n    }\r\n  }\r\n\r\n  const changePos = (pt) => {\r\n    character.style.left = pt[0]+'em';\r\n    character.style.top = pt[1]+'em'\r\n  }\r\n\r\n  const scale = (p) => character.style.fontSize = p/100+'em'\r\n\r\n  return {\r\n    el: character,\r\n    info,\r\n    width,\r\n    height,\r\n    updateInfo,\r\n    scale,\r\n    changePos\r\n  };\r\n}\r\n","//stage boundry\r\nexport const s = {\r\n  t: 42,\r\n  l: 15\r\n}\r\n\r\n//spawn position in the map\r\nexport const pos = {\r\n  //back\r\n  b:[1,2,3,4,5].map(i=>[i*(s.l)+(i-1)*(i==1?0:5), s.t]),\r\n  m:[1,2,3,4,5].map(i=>[i*10+(i-1)*(i==1?0:10), 50]),\r\n  f:[1,2,3,4,5].map(i=>[i*10+(i-1)*(i==1?0:10), 70]),\r\n}\r\n","import { h,m } from '../classes/dom.js';\r\nimport { prefix, random } from './utils.js';\r\nimport { pos } from '../constant';\r\nimport { person } from './characters';\r\nimport objects from './object';\r\n\r\nconst { grounds, sky } = DATA.COLORS;\r\n\r\nconst patterns = [\r\n  //stripe\r\n  (deg=45) => `linear-gradient(${deg}deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent)`,\r\n  //none\r\n  () => ''\r\n]\r\n\r\nconst sides = [\r\n  {\r\n    //0 grass\r\n    size: '50px 50px',\r\n    color: grounds[3],\r\n    pattern: 0\r\n  },\r\n  {\r\n    //1 river\r\n    size: '6px 102px',\r\n    color: grounds[4],\r\n    pattern: 0\r\n  },\r\n  {\r\n    //2 sky noon\r\n    size: '',\r\n    color: sky[0],\r\n    pattern: 1\r\n  },\r\n  {\r\n    //3 sand\r\n    size: '',\r\n    color: grounds[5],\r\n    pattern: 0\r\n  },\r\n  {\r\n    //4 water\r\n    size: '',\r\n    color: 'blue',\r\n    pattern: 0,\r\n    opt: 0\r\n  }\r\n]\r\n\r\nexport const genSide = (setting, className= 'bottom') => {\r\n    let floor = h('div', { className } )\r\n    floor.style.backgroundColor = setting.color\r\n    prefix(floor, 'backgroundImage', patterns[setting.pattern](setting.opt))\r\n    floor.style.backgroundSize = setting.size\r\n    return floor;\r\n}\r\n\r\nexport const stage = (env, gameContainer, players, name =\"\") => {\r\n  let playerEls = []\r\n  let enemyEls = []\r\n  let genBackEls = env => env.backEls.map( (elid, i)=> {\r\n    if(elid < 0) return h('div');\r\n\r\n    let pt = pos.b[i]\r\n    let item =  objects.get(env.backEls[elid], true)\r\n    let el = h('div', { className:'pix obj popup', left: pt[0]+'em', top: (pt[1] - item.size[1])+'em' }, item.el)\r\n    el.style.animationDelay = .1*i+'s'\r\n    return el;\r\n  })\r\n\r\n  const makeStage = env => [genSide(sides[env.back], 'back'), genSide(sides[env.bottom])]\r\n\r\n  let el = h(\r\n    'div',\r\n    { className: 'stage'},\r\n    makeStage(env)\r\n  )\n\n  //mount back els\n  let backEls = genBackEls(env)\n  m(backEls, gameContainer)\n  mPlayers(players);\n\n  //name\n  let placeName = h('div', 'env-name centerX', objects.text(name))\n  m(placeName, gameContainer)\n\n  //transition overlays\n  let overlay = h('div', 'env-overlay fadeInOut')\n  overlay.hide()\n\n  let overlayDmg = h('div', 'env-overlay hp fadeInOut')\n  overlayDmg.hide()\n\n  m([overlay, overlayDmg], gameContainer)\n\n  function mPlayers(players, enemy = false){\n    players.forEach( (player, i)=>{\n      let $player = person(player.info, player.status.items, enemy)\n      $player.scale(80)\n      $player.changePos(pos.m[i + (enemy ? 3: 0)])\n\n      if(enemy){\n        enemyEls.push($player)\n      }else{\n        playerEls.push($player)\n      }\n\n    })\n    if(enemy){\n      m(enemyEls.map(p=>p.el), gameContainer)\n    }else{\n      m(playerEls.map(p=>p.el), gameContainer)\n    }\n\n  }\n\n  function changePlayers(players){\n    //lobby\n    //remove players\n    playerEls.forEach((p,i)=>{\n      gameContainer.removeChild(p.el)\n    })\n\n    playerEls = [];\n    //add players\n    mPlayers(players)\n  }\n\n  function changeStage(game, player){\n      overlay.show()\n      setTimeout(()=>overlay.hide(), 1000)\n      //in game\n      el.empty()\n      el.$m(makeStage(player.status.place.env))\n\n      //change name\n      placeName.empty()\n      placeName.$m(objects.text(player.status.place.name))\n\n      mPlayers(player.status.place.monsters, true)\n      //els\n      backEls.forEach(bEl=>gameContainer.removeChild(bEl))\n      backEls = genBackEls(player.status.place.env)\n      m(backEls, gameContainer)\n  }\n\n\r\n  //change character\r\n  return {\r\n    el,\r\n    changePlayers,\r\n    changeStage,\r\n    hurt: ()=>{\r\n      overlayDmg.show()\r\n      setTimeout(()=>overlayDmg.hide(), 1000)\r\n    }\r\n  };\r\n}\r\n","import { m, h } from './classes/dom';\nimport { person } from './assets/characters'\nimport { floor, stage } from './assets/environment'\nimport { prefix, centerEl, waterfall, p } from './assets/utils'\nimport ui from './assets/ui'\nimport objects from './assets/object'\n\nclass ClientApp{\n  constructor(socket){\n    //state\n    this.socket = socket\n    this.init = false\n    this.info = {}\n    this.game = null\n    this.width = 1024\n    this.height = 768\n    this.scale = 10\n    this.character = null\n    this.stage = null\n    this.controls = null\n    this.statusui = {}\n    this.container = h('div', {className: 'game', width: this.width+'px', height: this.height+'px'})\n    this.itemOpen = false\n    //init\n    this.initComm(socket)\n    this.resize()\n    this.err = false\n  }\n\n  bindKeys(){\n    //TODO: use areaay to handle it dynamically\n    document.onkeydown = e => {\n      e = e || window.event;\n      switch (e.which || e.keyCode) {\n        case 13: //enter\n          this.controls.submitEl.click()\n          break;\n      }\n    }\n  }\n\n  home(){\n    this.character = person(this.info)\n    m(this.character.el, this.container);\n\n    centerEl(this.character.el, this.character.width, this.character.height, 'em')\n    this.character.el.style.left = \"20%\"\n    m(this.container)\n    const { skins, hairs } = DATA.COLORS;\n    const { stories } = DATA\n    waterfall([\n      //ask name\n      p( next=> m(\n        ui.ask(\n          'your name',\n          name => this.emit('updateInfo', {name}, ()=>next()) ),\n          this.container\n        )\n      ),\n      //skin\n      p( next=> m(\n        ui.pick(\n          'skin',\n          skins.map( s=> h('div', { className:'opt-color', background: s})),\n          skin => this.emit('updateInfo', {skin}),\n          skin => this.emit('updateInfo', {skin}, ()=>next()) ),\n          this.container\n        )\n      ),\n      //hair\n      p( next=> m(\n        ui.pick(\n          'hair',\n          hairs.map( s=> h('div', {className:'opt-color', background: s})),\n          hair => this.emit('updateInfo', {hair}),\n          hair => this.emit('updateInfo', {hair}, ()=>next()) ),\n          this.container\n        )\n      ),\n      //open games\n      p(\n        next=> m(\n          ui.alert(\n            stories[0],\n            'start game',\n            ()=> this.emit('queueGame', {}, ()=>next())\n          )\n        )\n      )\n    ]).then(()=>console.log('waiting game'))\n  }\n\n  initGame(){\n    //initialize stage\n    console.log('Init game', this.game)\n\n    //initialize player\n    this.player = this.game.players.find(p=>p.id == this.info.id)\n    console.log('This Player', this.player)\n\n    //hide avatar\n    this.character.el.hide();\n\n    this.stage = stage(\n      this.game.lobby.env, //env\n      this.container, //container\n      this.game.players, //players\n      this.game.lobby.name\n    )\n    //control content\n    this.controls = ui.controls(m=>this.emit('gamemsg', m));\n\n    //chat and log\n    this.socket.on('gamemsg', logs=>{\n      this.controls.logs(this.game.logs = logs)\n    })\n\n    //on stage change\n    this.socket.on('changeStage', d=>{\n      console.log('changesatege', d)\n      this.player.status.loc = d.loc\n      this.player.status.place = d.place\n      this.stage.changeStage(this.game, this.player)\n      this.stage.changePlayers(this.game.players)\n      this.map.update(d.loc)\n    })\n\n    //playerchagne\n    this.socket.on('changePlayers', p=>{\n      this.game.players = p;\n      console.log('change paleyrs', p)\n      this.stage.changePlayers(this.game.players)\n\n    })\n\n    //game status\n    this.socket.on('gameinfo', info=>Object.assign(this.game, info))\n\n    this.bindKeys()\n\n    //render game\n    m(this.controls.el, this.container)\n    m(this.stage.el, this.container)\n    this.renderStatus();\n    this.renderActions();\n  }\n\n  renderStatus(){\n    const updateAttr = () => {\n      let attrs = h('div', 'attrs')\n      for(let attr in this.player.status.attrs){\n        if(attr === 'hp'){\n          this.statusui.hp = ui.progress('hp', 3, 30, this.player.status.attrs[attr])\n          m(this.statusui.hp.el, this.controls.statusBox)\n        }else{\n          m(ui.text(`${attr}: ${this.player.status.attrs[attr]}`), attrs)\n        }\n      }\n      return attrs;\n    }\n\n    this.socket.on('changeAttr', attrs=>{\n      console.log('new attr', attrs)\n      this.controls.statusBox.empty()\n      if(attrs.hp < this.player.status.attrs.hp) this.stage.hurt()\n      this.player.status.attrs = attrs\n      m(updateAttr(), this.controls.statusBox)\n    })\n  }\n\n  renderActions(){\n    this.controls.actionBox.empty()\n    ui.removeAll('ui dialog')\n\n    //function action map\n    let btnMap = ui.button('map')\n    this.map = ui.map(this.game.map, this.player.status.loc, (x,y)=>console.log('map:', x,'-', y))\n\n    m(this.map.el)\n    this.map.el.hide()\n    btnMap.click(()=>this.map.el.show())\n\n    //function action items\n    const updateItems = items=>{\n      this.player.status.items = items;\n      let el = ui.pick(\n        'Items',\n        this.player.status.items.map( item=> {\n          let str = typeof item === 'string' ? item : `${item.name}${item.grade > 0 ? '+'+item.grade: ''} ${item.eq ? '[Equiped]': ''}`\n          let el = h('div', {className:'opt-item'}, str)\n          el.style.color = grades[item.grade]\n          return el;\n        }),\n        i => this.emit('useitem', i),\n        ()=>this.itemOpen = false,\n        'items'\n      )\n\n      m(el)\n      if(this.itemEl){\n        this.itemEl.parentNode.removeChild(this.itemEl)\n        this.itemEl = el;\n      }else{\n        this.itemEl = el;\n      }\n      if(!this.itemOpen) this.itemEl.hide()\n    }\n\n    //updateItems(this.player.status.items)\n\n    let btnItem = ui.button('item')\n    btnItem.click(()=>{\n      this.itemOpen = true\n      this.itemEl.show()\n    })\n\n    this.socket.on('changeItems', updateItems)\n\n    const updateBtns = (acts = []) => {\n      //console.log('actions', acts)\n      this.controls.actionBox.empty()\n      const fnAct = {\n        'map': btnMap\n      }\n\n      m(acts.map( act=>{\n        if(act in fnAct){\n          return fnAct[act]\n        }else{\n          let btn = ui.button(act)\n          btn.click(()=>this.emit('gameaction', act))\n          return btn;\n        }\n      } ).concat(btnItem), this.controls.actionBox)\n    }\n\n    this.socket.on('changeActions', updateBtns)\n  }\n\n  emit(e, m, cb){\n    this.socket.emit(e, m, cb)\n  }\n\n  initComm(socket){\n    socket.on('initGame', info=>{\n      this.game = info\n      this.initGame();\n    })\n\n    socket.on('updateInfo', info=> {\n      this.info = info\n      if(!this.init){\n        this.init = true;\n        this.home()\n      }\n      this.character.updateInfo(this.info)\n    })\n\n    socket.on('connect', id => {\n\n    });\n\n    socket.on('disconnect', this.onErr);\n    socket.on('connect_error', this.onErr);\n    socket.on('error', this.onErr);\n\n    socket.on('gg', msg=>this.onErr(msg))\n  }\n\n  onErr(msg){\n    if(!this.err) m(ui.alert(msg || 'You are disconnected', 'ok', ()=>window.location.reload(true) ))\n  }\n\n  resize(){\n    centerEl(this.container, this.width, this.height)\n    this.container.style.fontSize= `${this.scale}px`\n  }\n}\n\nprefix(document.body, 'background', 'radial-gradient(ellipse at center, #b5bdc8 0%,#828c95 36%,#28343b 100%)')\n\n\nconst socket = io({ upgrade: false, transports: [\"websocket\"] });\n\nlet App = new ClientApp(socket);\n"],"names":["d","h","m","p","images.hair2","images.head","images.legright","images.legleft","images.bodyright","images.bodyleft","head","s"],"mappings":"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","sourceRoot":"/source/"}